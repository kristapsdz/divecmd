.\"	$Id$
.\"
.\" Copyright (c) 2016--2017 Kristaps Dzonsons <kristaps@bsd.lv>
.\"
.\" This library is free software; you can redistribute it and/or
.\" modify it under the terms of the GNU Lesser General Public
.\" License as published by the Free Software Foundation; either
.\" version 2.1 of the License, or (at your option) any later version.
.\" 
.\" This library is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
.\" Lesser General Public License for more details.
.\" 
.\" You should have received a copy of the GNU Lesser General Public
.\" License along with this library; if not, write to the Free Software
.\" Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
.\" MA 02110-1301 USA
.\" 
.Dd $Mdocdate$
.Dt DIVECMD2TERM 1
.Os
.Sh NAME
.Nm divecmd2term
.Nd graph dives on the terminal
.Sh SYNOPSIS
.Nm divecmd2term
.Op Fl auv
.Op Ar files...
.Sh DESCRIPTION
The
.Nm
utility accepts XML files generated by
.Xr divecmd 1
and graphs depths and/or temperatures on the terminal.
Multiple dives are stacked atop each other.
Its arguments are as follows:
.Bl -tag -width Ds
.It Fl a
Accumulate dives instead of showing them stacked.
This is useful for free-diving where multiple dives are done in
sequence.
.It Fl u
Draw utf8-encoded output sequences.
Much prettier.
.It Fl v
Parse files in verbose mode.
.It Ar files...
XML input files with one or more dives.
.El
.Pp
.Nm
uses ANSI/VT100 terminal escapes for console manipulation and
colours.
If
.Ar files
is empty or
.Dq \&- ,
standard input is used.
.Pp
By default,
.Nm
graphs two vertical panes: temperature and depth.
Each dive is associated with a colour that is the same for both graphs.
In practise, more than three dives is a little much.
A title is printed above the graphs, along with the associated line
colour, identifying the dive.
.Pp
Multiple graphs are stacked atop each other with the x-axis being the
relative time into the dive.
In
.Fl a
accumulation mode, however, graphs are shown as starting at the first
date and time.
.Pq Dives must have been parsed with a date and time .
This is useful, for example, with a sequence of free-dives.
.Sh EXIT STATUS
.Ex -std
.Sh EXAMPLES
To pipe the output of the day's free-dives from on a Suunto D6i:
.Pp
.Dl divecmd -r \(dq\(dq \(dqsuunto d6i\(dq | divecmd2term -au
.Pp
This will extract only the current day's dives, then format them
alongside (instead of stacked) using UTF-8 characters.
.Pp
To compare two dive profiles previously downloaded into
.Pa dive1.xml
and
.Pa dive2.xml ,
run:
.Pp
.D1 divecmd2term -u dive1.xml dive2.xml
.Sh SEE ALSO
.Xr divecmd 1
.Sh AUTHORS
The
.Nm
utility was written by
.An Kristaps Dzonsons ,
.Mt kristaps@bsd.lv .
